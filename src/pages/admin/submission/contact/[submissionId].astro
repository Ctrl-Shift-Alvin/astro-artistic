---
import Section from '@/components/astro-components/Section.astro';
import { AdminContactSubmissionOverview } from '@/components/partials/admin/AdminContactSubmissionOverview';
import { AdminOverviewButtons } from '@/components/partials/admin/AdminOverviewButtons';
import BaseAdmin from '@/templates/BaseAdmin.astro';

const { submissionId = '-1' } = Astro.params;
let submissionIdInt;
try {

	submissionIdInt = parseInt(submissionId);
	if (!submissionIdInt)
		throw new Error();

} catch {

	Astro.response.status = 400;
	Astro.response.statusText = 'bad-request';

}

---
<BaseAdmin
	head={{
		title: 'Submission ' + submissionId,
		description: 'Seeing submission ' + submissionId
	}}
>
	<Section center title={`Contact Submission ID '${submissionId}'`}>
		<AdminContactSubmissionOverview submissionId={submissionId} client:only="react" />
	</Section>
	<Section>
		<AdminOverviewButtons
			removeButtonPayload={{
				action: 'adminDeleteContactSubmission',
				args: [submissionId]
			}}
			client:only="react"
		/>
	</Section>
</BaseAdmin>
