---
import EventsTable from '@/components/astro-components/EventsTable.astro';
import Section from '@/components/astro-components/Section.astro';
import Base from '@/templates/Base.astro';
import { cGetUserLanguage, cSetUserLanguage } from '@/shared/cookies';
import { defaultLanguageCode, getTranslation } from '@/backend/i18n';

const translation = getTranslation(
	cGetUserLanguage(Astro) || defaultLanguageCode
);
if (!translation) {
	if (cGetUserLanguage(Astro) === null) {
		throw new Error('Could not load translations.');
	} else {
		cSetUserLanguage(null);
	}
}
---

<Base
	head={{
		title: translation.events.title,
		description: translation.events.description
	}}
	translation={translation}
>
	<Section center>
		<EventsTable translation={translation} />
	</Section>
</Base>
