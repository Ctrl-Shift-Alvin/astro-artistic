---
export interface Props {
	title?: string;
	imageUrl: string;
}

const { title, imageUrl } = Astro.props;
---

<section class="relative h-dvh w-full overflow-hidden">
	<div class="absolute inset-0 flex items-start justify-center pt-[30vh]">
		<div
			class="absolute bottom-0 z-10 h-2/5 w-full bg-gradient-to-b from-black/0 to-black/100 align-bottom"
		>
		</div>
		<img
			src={imageUrl}
			alt="Banner Image"
			class="absolute inset-0 z-0 size-full object-cover brightness-75"
		/>
		{
			title && (
				<h1 class="w-full z-10 px-5 text-center font-bold break-words" style="font-size: clamp(2.5rem, 5vh + 3vw, 6rem)">
					{title}
				</h1>
			)
		}
	</div>

	<div class="absolute bottom-6 left-1/2 z-20 -translate-x-1/2">
		<div
			id="banner-scroll-btn"
			class="animate-bounce cursor-pointer rounded-full border-2 border-white p-2"
    >
			<svg
				class="size-6 text-white"
				xmlns="http://www.w3.org/2000/svg"
				fill="none"
				viewBox="0 0 24 24"
				stroke="currentColor"
				stroke-width="2"
			>
				<path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
			</svg>
		</div>
	</div>
	<script>
		import { smoothScroll } from '@/frontend/windowTools';

		if (typeof window !== 'undefined') {

			const btn = document.getElementById('banner-scroll-btn');
			btn?.addEventListener('click', () => {

				if (window.innerWidth < 640) {

					// Fixed navbar would cover content, so scroll a bit less to keep the content below the navbar
					smoothScroll(window.innerHeight - (document.getElementById('hamburger-div')?.scrollHeight || 0));

				} else {

					smoothScroll(window.innerHeight);

				}
			});
		}
	</script>
</section>
