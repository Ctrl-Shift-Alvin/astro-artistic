---
export interface Props {
	title?: string;
	imageUrl: string;
	className?: string;
}

const { title, imageUrl, className } = Astro.props;
---

<section class:list={["relative h-dvh w-full overflow-hidden", className]}>
	<div class="absolute inset-0">
		<div
			class="absolute bottom-0 z-10 h-2/5 w-full bg-gradient-to-b from-black/0 to-black/100 align-bottom"
    >
		</div>
		<img
			src={imageUrl}
			alt="Banner Image"
			class="size-full object-cover brightness-75"
		/>
		{
			title && (
				<h1 class="absolute top-50 z-20 w-full px-5 text-center text-7xl font-bold">
					{title}
				</h1>
			)
		}
	</div>

	<div class="absolute bottom-6 left-1/2 z-20 -translate-x-1/2">
		<div
			id="banner-scroll-btn"
			class="animate-bounce cursor-pointer rounded-full border-2 border-white p-2"
    >
			<svg
				class="size-6 text-white"
				xmlns="http://www.w3.org/2000/svg"
				fill="none"
				viewBox="0 0 24 24"
				stroke="currentColor"
				stroke-width="2"
			>
				<path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"
				></path>
			</svg>
		</div>
	</div>
	<script>
		import { smoothScroll } from '@/frontend/windowTools';

		if (typeof window !== 'undefined') {
			const btn = document.getElementById('banner-scroll-btn');
			btn?.addEventListener('click', () => {
				if (window.innerWidth < 640) {
					// fixed navbar would cover content, so account for that
					smoothScroll(
						window.innerHeight -
							(document.querySelector('#hamburger-div')?.scrollHeight || 0),
						1000
					);
				} else {
					smoothScroll(window.innerHeight, 1000);
				}
			});
		}
	</script>
</section>
